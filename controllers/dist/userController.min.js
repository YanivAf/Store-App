"use strict";exports.__esModule=!0,exports.login=exports.register=exports.adminPanel=exports.welcome=void 0;var Users=require("../../models/dist/usersModel").Users;function welcome(e,s){try{s.send({h1Text:"Shop Shop Shop",message:"We wish you happy Shopping ðŸ›’"})}catch(e){console.error(e),s.status(500).send(e.message)}}function register(e,s){try{var r=e.body,o=r.email,t=r.username,n=r.password,i=r.isAdmin,a=i?"admin":"shopper",d=i?"\n\nShopper trying to become an admin? Please verify you credentials.":"",l=(new Users).addUser(o,t,n,i);l?(s.cookie("currentUser",{userUuid:l},{maxAge:9e5,httpOnly:!0}),s.send({title:"Cheers, "+t+"!",text:"You are our newest "+a+"!",userUuid:l})):s.send({title:"Email already registered",text:"Please use a different email address."+d})}catch(e){console.error(e),s.status(500).send(e.message)}}function login(e,s){try{var r=e.body,o=r.email,t=r.password;o&&t&&s.cookie("isAdmin",{isAdmin:isAdmin},{maxAge:9e5,httpOnly:!0}),s.send({login:!0,isAdmin:isAdmin})}catch(e){console.error(e),s.status(500).send(e.message)}}exports.welcome=welcome,exports.adminPanel=function(e,s){try{s.send({adminPanel:!0})}catch(e){console.error(e),s.status(500).send(e.message)}},exports.register=register,exports.login=login;