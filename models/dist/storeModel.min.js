"use strict";exports.__esModule=!0,exports.Store=exports.Product=exports.readStoreJson=void 0;var uuidv4=require("uuid").v4,fs=require("fs"),path=require("path"),storeJsonPath=path.resolve(__dirname,"../store.json");exports.readStoreJson=function(){try{var t=fs.readFileSync(storeJsonPath);return JSON.parse(t)}catch(t){console.error(t.message)}};var Product=function(t,r,o,e,s){this.productUuid=uuidv4(),this.productName=t,this.productDescription=r,this.productPrice=o,this.productImage=e,this.inStock=s};exports.Product=Product;var Store=function(){function t(){var t=exports.readStoreJson();this.storeUuid=t.storeUuid,this.storeName=t.storeName,this.products=t.products}return t.prototype.updateStoreJson=function(){try{fs.writeFileSync(storeJsonPath,JSON.stringify({storeUuid:this.storeUuid,storeName:this.storeName,products:this.products}))}catch(t){console.error(t.message)}},t.prototype.updateStoreName=function(t){try{this.storeName=t,this.updateStoreJson()}catch(t){console.error(t.message)}},t.prototype.findProductIndex=function(r){try{return this.products.findIndex(function(t){return t.productUuid===r})}catch(t){console.error(t.message)}},t.prototype.addProduct=function(t,r,o,e,s,u){try{var i=new Product(t,r,o,e,s);i.storeUuid=this.storeUuid,this.products.push(i),this.updateStoreJson()}catch(t){console.error(t.message)}},t.prototype.editProduct=function(){},t.prototype.deleteProduct=function(r){try{this.products=this.products.filter(function(t){return t.productUuid!==r}),this.updateStoreJson()}catch(t){console.error(t.message)}},t}();exports.Store=Store;