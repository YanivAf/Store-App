"use strict";exports.__esModule=!0,exports.enoughInStock=exports.doesProductExist=void 0;var secret=require("../../secret/dist/secret").secret,_a=require("../../models/dist/storeModel"),Product=_a.Product,Store=_a.Store;function doesProductExist(e,t,o){try{var s=new Store,r=e.body.productUuid,n=s.findProductIndex(r);return void(-1===n?t.status(404).send({message:"Product doesn't exist. Apologies for the inconvenience."}):(e.productIndex=n,o()))}catch(e){console.error(e.message),t.status(500).send(e.message)}}function enoughInStock(e,t,o){try{var s=new Store,r=e.body.productQuantity,n=e.productIndex;return void(s.products[n].quantity<r?t.status(409).send({message:"Not enough items in stock. Apologies for the inconvenience."}):o())}catch(e){console.error(e.message),t.status(500).send(e.message)}}exports.doesProductExist=doesProductExist,exports.enoughInStock=enoughInStock;