"use strict";exports.__esModule=!0;var express=require("express"),router=express.Router(),multer=require("multer"),productSchema=require("../../schemas/dist/productSchema").productSchema,uploadImage=require("../../middlewares/dist/uploadImage").uploadImage,validateBody=require("../../middlewares/dist/validateBody").validateBody,_a=require("../../middlewares/dist/userMiddlewares"),isLoggedInAndAuthenticated=_a.isLoggedInAndAuthenticated,doesUserExist=_a.doesUserExist,isAdmin=_a.isAdmin,onlyAdmin=_a.onlyAdmin,_b=require("../../middlewares/dist/storeMiddlewares"),doesStoreExist=_b.doesStoreExist,doesProductExist=_b.doesProductExist,_c=require("../../controllers/dist/storeControllers"),showStores=_c.showStores,showProducts=_c.showProducts,showProduct=_c.showProduct,editStoreName=_c.editStoreName,addProduct=_c.addProduct,editProduct=_c.editProduct,deleteProduct=_c.deleteProduct;router.use(isLoggedInAndAuthenticated,doesUserExist,isAdmin).use("/:storeUuid",doesStoreExist).use("/:storeUuid/product/:productUuid",doesProductExist),router.get("/list",showStores).get("/:storeUuid",showProducts).get("/:storeUuid/product/:productUuid",showProduct),router.use("/:storeUuid",onlyAdmin),router.put("/:storeUuid",editStoreName).put("/:storeUuid/product/:productUuid",uploadImage.single("productImage"),validateBody(productSchema),editProduct).post("/:storeUuid/product",uploadImage.single("productImage"),validateBody(productSchema),addProduct).delete("/:storeUuid/product/:productUuid",deleteProduct),module.exports=router;