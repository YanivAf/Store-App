"use strict";exports.__esModule=!0;var express=require("express"),router=express.Router(),userSchema=require("../../schemas/dist/userSchema").userSchema,validateBody=require("../../middlewares/dist/validateBody").validateBody,_a=require("../../middlewares/dist/userMiddlewares"),isLoggedInAndAuthenticated=_a.isLoggedInAndAuthenticated,doesUserExist=_a.doesUserExist,encryptPassword=_a.encryptPassword,validatePassword=_a.validatePassword,isAdmin=_a.isAdmin,onlyShopper=_a.onlyShopper,_b=require("../../middlewares/dist/storeMiddlewares"),doesStoreExist=_b.doesStoreExist,doesProductExist=_b.doesProductExist,enoughInStock=_b.enoughInStock,allMallProducts=_b.allMallProducts,_c=require("../../controllers/dist/userControllers"),welcome=_c.welcome,register=_c.register,login=_c.login,logout=_c.logout,details=_c.details,updateQuantity=_c.updateQuantity,updateSaved=_c.updateSaved,purchaseCart=_c.purchaseCart;router.post("/register",validateBody(userSchema),doesUserExist,validatePassword,encryptPassword,register).post("/login",doesUserExist,validatePassword,login).get("/logout",isLoggedInAndAuthenticated,doesUserExist,logout),router.use(isLoggedInAndAuthenticated,doesUserExist,isAdmin),router.get("/welcome",welcome).get("/details",details),router.use("/cart",onlyShopper,doesStoreExist,doesProductExist,enoughInStock),router.put("/cart",updateQuantity).put("/cart/purchase",purchaseCart),router.put("/saved",onlyShopper,updateSaved),module.exports=router;